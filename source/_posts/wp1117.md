---
title: 2013 ACM/ICPC Asia Regional Chengdu Online
author: Semprathlon / Simfae Dean
tags: []
categories: []
date: 2015-08-23 21:39:52
---
[1007 F(x)](http://acm.hdu.edu.cn/showproblem.php?pid=4734)数位DP
====
[code lang="java"]
/** Aug 22, 2015 5:23:42 PM
 * PrjName:hdu4734
 * @author Semprathlon
 */
import java.io.*;
import java.util.*;
public class Main {

    /**
     * @param args
     */
    static int[][] f;
    static int[] digit;
    final static int maxm=4600;
    static int fun(int n){
        int res=0,tmp=1;
        while(n&gt;0){
            res+=n%10*tmp;
            tmp&lt;&lt;=1;
            n/=10;
        }
        return res;
    }
    static void init(){
        int tmp=1;
        f=new int[10][maxm+1];
        f[0][0]=1;
        for(int i=1;i&lt;10;i++){
            for(int j=0;j&lt;=maxm;j++)
                for(int k=0;k&lt;=9;k++)
                    if (j+tmp*k&lt;=maxm)
                        f[i][j+tmp*k]+=f[i-1][j];
            tmp&lt;&lt;=1;
        }
        for(int i=0;i&lt;10;i++)
            for(int j=1;j&lt;=maxm;j++) f[i][j]+=f[i][j-1];
    }
    static int[] getdg(int n){
        int[] res=new int[10];
        while(n&gt;0){
            res[++res[0]]=n%10;
            n/=10;
        }
        return res;
    }
    public static void main(String[] args) throws IOException{
        // TODO Auto-generated method stub
        InputReader in=new InputReader(System.in);
        PrintWriter out=new PrintWriter(System.out);
        init();
        int T=in.nextInt(),cas=0;
        while(T--&gt;0){
            int A=in.nextInt();
            int B=in.nextInt();
            int m=fun(A);
            digit=getdg(B);
            int ans=0,tmp=1&lt;&lt;digit[0];
            for(int i=digit[0];i&gt;=1;i--){
                tmp&gt;&gt;=1;
                for(int k=0;k&lt;digit[i];k++){
                    
                    if (m-k*tmp&gt;=0){
                        ans+=f[i-1][m-k*tmp];
                    }
                }
                m-=digit[i]*tmp;
                if (m&lt;0) break;
                
            }
            if (m&gt;=0) ans++;
            out.println(&quot;Case #&quot;+(++cas)+&quot;: &quot;+ans);
        }
        out.flush();
        out.close();
    }

}
[/code]
磕磕绊绊的，到底有几大难？
期初是有过转化为背包问题的尝试，但是忽视了数位DP的处理手段；可先扩大枚举范围，再从中筛选。
预处理的两套循环不能杂糅在一起，因为先通过递推求了第i位、限制F(x)==j的解，然后才相加得到第i位、限制F(x)≤j的解。
筛选时注意“小于”的枚举方式。
最后还应留意B为可行解的条件。

[1010 A Bit Fun](http://acm.hdu.edu.cn/showproblem.php?pid=4737)
====
[code lang="java"]
/** Aug 22, 2015 4:28:18 PM
 * PrjName:hdu4737
 * @author Semprathlon
 */
import java.io.*;
import java.util.*;
public class Main {

    /**
     * @param args
     */
    static int[] a;
    static Queue&lt;Integer&gt; que=new LinkedList&lt;Integer&gt;();
    public static void main(String[] args) throws IOException{
        // TODO Auto-generated method stub
        InputReader in=new InputReader(System.in);
        PrintWriter out=new PrintWriter(System.out);
        int T=in.nextInt(),cas=0;
        while(T--&gt;0){
            int n=in.nextInt();
            int m=in.nextInt();
            a=new int[n+1];
            que.clear();
            int ans=0;
            for(int i=1;i&lt;=n;i++){
                a[i]=in.nextInt();
                int k=que.size();
                for(int j=0;j&lt;k;j++){
                    int tmp=que.poll()|a[i];
                    if (tmp&lt;m) que.add(tmp);
                }
                if (a[i]&lt;m) que.add(a[i]);
                ans+=que.size();
            }
            out.println(&quot;Case #&quot;+(++cas)+&quot;: &quot;+ans);
        }
        out.flush();
        out.close();
    }

}
[/code]
并没有实现有些题解中所说的O(nlogn)或O(30n)的算法，但总的运行时间还是较短的？
