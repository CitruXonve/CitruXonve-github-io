---
title: ACM-ICPC 2014 Beijing Regional / hdu 5115 区间DP
author: Semprathlon / Simfae Dean
tags:
  - DP
categories:
  - ACM-ICPC
  - Programing
abbrlink: fb58aa85
date: 2015-07-18 11:12:18
---
贪心？走进死胡同了吧

[code lang="java"]
/**
 * 2015年7月18日 上午9:55:52
 * PrjName:hdu5115
 * @ Semprathlon
 */
import java.io.*;
public class Main {
	final static long inf=0x7FFFFFFFFFFFFFFFL;
	static long min(long a,long b){
		return Math.min(a, b);
	}
	public static void main(String[] args)  throws IOException{
		// TODO Auto-generated method stub
		StreamTokenizer in=new StreamTokenizer(new BufferedReader(new InputStreamReader(System.in)));
		PrintWriter out=new PrintWriter(new OutputStreamWriter(System.out));
		in.nextToken();
		int T=(int)in.nval,cas=0;
		int[] a,b;
		long[][] f;
		while(T--&gt;0){
			in.nextToken();
			int n=(int)in.nval;
			a=new int[n+2];
			b=new int[n+2];
			f=new long[n+2][n+2];
			for(int i=1;i&lt;=n;i++){
				in.nextToken();
				a[i]=(int)in.nval;
			}
			for(int i=1;i&lt;=n;i++){
				in.nextToken();
				b[i]=(int)in.nval;
			}
			f[1][1]=a[1]+b[2];
			f[n][n]=a[n]+b[n-1];
			for(int i=2;i&lt;n;i++)
				f[i][i]=a[i]+b[i-1]+b[i+1];
			for(int i=1;i&lt;=n;i++)
				for(int j=i+1;j&lt;=n;j++)
					f[i][j]=inf;
			for(int j=0;j&lt;=n;j++)
				for(int i=1;i+j&lt;n+1;i++)
					for(int k=i;k&lt;=i+j;k++){
						f[i][i+j]=min(f[i][i+j],f[i][k-1]+f[k+1][i+j]+a[k]+b[i-1]+b[i+j+1]);
						//out.print(f[i][i+j]+&quot; &quot;);
					}
			/*for(int i=0;i&lt;=n+1;i++){out.println();
				for(int j=0;j&lt;=n+1;j++)
					out.print(f[i][j]+&quot;\t&quot;);	
			}*/
						
			
			/*for(int i=0;i&lt;n;i++)
				for(int j=1;j&lt;n-i;j++){
					if (j==1)
						min(f[j][j+i],f[j+1][j+i]+a[j]);
					if (j&gt;1)
						min(f[j][j+i],f[j+1][j+i]+a[j]+b[j-1]);
					if (i+j&lt;n)
						min(f[j][j+i],f[j][j+i-1]+a[j+i]+b[j+i+1]);
					if (i+j==n)
						min(f[j][j+i],f[j][j+i-1]+a[j+i]);
					for(int k=j+1;k&lt;j+i;k++)
						min(f[j][j+i],f[j][k-1]+a[k]+f[k+1][j+i]);
				}*/
			out.println(&quot;Case #&quot;+(++cas)+&quot;: &quot;+f[1][n]);
			out.flush();
		}
		
		out.close();
	}

}
[/code]